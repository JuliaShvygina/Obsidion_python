---
aliases: [gunicorn]
---
```py

```

**WSGI** (англ. Web Server Gateway Interface) — стандарт взаимодействия между Python-программой, выполняющейся на стороне сервера, и самим веб-сервером, например Apache.
![](https://lectures.uralbash.ru/_images/server-app.png)

В Python существует большое количество различного рода веб-фреймворков (каркасов), тулкитов и библиотек. Для каждого из них — собственный метод установки и настройки, они не умеют взаимодействовать между собой. Это может стать затруднением для тех, кто только начинает изучать Python, так как, например, выбор определённого фреймворка может ограничить выбор веб-сервера, и наоборот.

WSGI предоставляет простой и универсальный интерфейс между большинством веб-серверов и веб-приложениями или фреймворками.

### Спецификации
По стандарту, WSGI-приложение должно удовлетворять следующим требованиям:

* должно быть вызываемым (callable) объектом (обычно это функция или метод)
* принимать два параметра:
1) словарь переменных окружения (environ)[2]
2) обработчик запроса (start_response)[3]
* вызывать обработчик запроса с кодом HTTP-ответа и HTTP-заголовками
* возвращать итерируемый объект с телом ответа

Простейшим примером WSGI-приложения может служить такая функция-генератор:

```py
 def application(environ, start_response):
    start_response('200 OK', [('Content-Type', 'text/plain')])
    yield b'Hello, World!\n'
```
Статейка с подробностями: [https://habr.com/ru/post/426957/](https://habr.com/ru/post/426957/)

Возможно Вы спросите _«Хорошо, но почему именно WSGI?»_. На это есть несколько причин:

-   **WSGI**-сервера были разработаны чтобы обрабатывать множество запросов одновременно. А фреймворки не предназначены для обработки тысяч запросов и не дают решения того, как наилучшим образом маршрутизировать их(запросы) с веб-сервера.
-   **WSGI** ускоряет разработку веб-приложений написанных на языке Python. Если в разработке веб-приложения Вы используете фреймворк(Django или что-то ещё) Вам не нужно беспокоиться о том, как Ваша конкретная инфраструктура использует стандарт **WSGI**.
-   **WSGI** дает Вам гибкость в изменении компонентов веб-стека без изменения приложения, которое работает с **WSGI**.


## Gunicorn
Flask не подходит для продакшена, он не в состоянии принять множественные запросы и предоставляет незащищенный доступ.

![](https://cdn-images-1.medium.com/max/1200/1*nFxyDwJ2DEH1G5PMKPMj1g.png)

[Gunicorn](https://gunicorn.org/) — это **WSGI**-сервер, созданный для использования в UNIX-системах. Название — сокращенная и комбинированная версия слов «Green Unicorn». На самом сайте проекта есть зеленый единорог. **Gunicorn** был перенесен из проекта «Unicorn» из языка Ruby. Он относительно быстрый, ресурсоёмкий, легко запускается и работает с широким спектром веб-фреймворков.  
  
Команда разработчиков рекомендует использовать **Gunicorn** в связке с Nginx, где Nginx используется в качестве прокси-сервера.

Gunicorn действительно хорош в том, что он делает! Он высоко оптимизирован и имеет множество удобных функций. В основном, его работа состоит из:

-   Запуск пула рабочих процессов / потоков (выполнение вашего кода!)
-   Переводит запросы, поступающие от Nginx, для совместимости с WSGI
-   Переведит ответы WSGI вашего приложения в правильные ответы HTTP
-   На самом деле вызывает код Python, когда приходит запрос
-   Gunicorn может общаться с различными веб-серверами

Что Gunicorn не может сделать для вас:

-   Не может работать с фронтендом
-   Не может поддерживать работу по SSL (без обработки https)
-   Не может обеспечить работу полноценного веб-сервера, как например Nginx

Gunicorn - только один из многих серверов WSGI. Вашему приложению не важно, какой веб сервер вы используете. Но Gunicorn - отличный выбор!