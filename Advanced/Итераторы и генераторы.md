---
aliases: [iter, iteration, generator, iterator, итератор, генератор, итераторы, генераторы]
---
```py

```

### Итератор
**Итератор** — интерфейс, предоставляющий доступ к элементам коллекции (массива или контейнера) и навигацию по ним. Имеет два метода `__iter__` и `__next_`.
Получить итератор мы можем из любого итерируемого объекта.
Для этого нужно передать итерируемый объект во встроенную функцию `__iter__`.
После того, как мы получили итератор, мы можем передать его встроенной функции `__next_`.
При каждом новом вызове, функция отдаёт один элемент. Если же в итераторе элементов больше не осталось, то функция `next` породит исключение `StopIteration`. Исключение подавляется, программа продолжает движение.

``` python
it = iter(sequence)
while True:
    try:
        value = it.next()
    except StopIteration:
        break
    print(value)
```

Из итерируемого объекта можно получить итератор:
```py
iter(list)
list.__iter__
```

Итерация  — процесс перебора элементов коллекции внутри цикла или функции, которая делает перебор.

### Генератор
**Генератор** — итератор, элементы которого можно обойти только один раз. Это альтернативный и более простой способ возвращать итераторы. Выдают значения по одному.
Генераторы позволяют более успешно работать с памятью.

Есть два простых способа создания генераторов в Python.

#### Функция генератора
Отличие заключается в том, что вместо `return` используется инструкция `yield`. Она уведомляет интерпретатор Python о том, что это генератор, и возвращает итератор.
`Return` всегда является последней инструкцией при вызове функции, в то время как `yield` временно приостанавливает исполнение, сохраняет состояние и затем может продолжить работу позже.

```py
def get_num_list(num, power):
	numbers = []
	for i in range(num):
		numbers.append(i**power)
	return numbers
	
for n in get_num_list(4, 2):
	print(n)
```

```py
def get_num_generitor(num, power):
	for i in range(num):
		yield i**power
	
for n in get_num_generitor(4, 2):
	print(n)
```

#### Выражение генератора
```python
# Синтаксис выражения генератора

gen_expr = (var**(1/2) for var in seq)
```
Разница:
```python
# Создаем список
alist = [4, 16, 64, 256]

# Вычислим квадратный корень, используя генерацию списка
out = [a**(1/2) for a in alist]
print(out)

# Используем выражение генератора, чтобы вычислить квадратный корень
out = (a**(1/2) for a in alist)
print(out)
print(next(out))
print(next(out))
print(next(out))
print(next(out))
print(next(out))
```